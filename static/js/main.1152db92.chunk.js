(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{146:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(70),c=a.n(i),l=a(20),o=a(21),r=a(24),u=a(22),m=a(23),d=a(75),p=a(152),b=a(153),v=a(150),E=a(71),f=a(151),k=function(e){return s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},s.a.createElement("div",{className:"container"},s.a.createElement(E.a,{to:"/",className:"navbar-brand"},"ToDo"),s.a.createElement("div",{className:"collapse navbar-collapse"},s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{className:"nav-item"},s.a.createElement(f.a,{exact:!0,to:"/",className:"nav-link",activeClassName:"active"},"Task list")),s.a.createElement("li",{className:"nav-item"},s.a.createElement(f.a,{exact:!0,to:"/about",className:"nav-link",activeClassName:"active"},"About"))))))},h=a(9),g=a(38),N=a(39);N.initializeApp({apiKey:"AIzaSyAiQRzcdGLJVIcGbjaVqKEpZcEZRtZ-19k",authDomain:"todo-test-145be.firebaseapp.com",databaseURL:"https://todo-test-145be.firebaseio.com",projectId:"todo-test-145be",storageBucket:"todo-test-145be.appspot.com",messagingSenderId:"951146688758"});var T=N.database(),y=function(e){return function(t){t({type:"SHOW_MESSAGE",payload:e})}},O=function(){return function(e){T.ref("tasks").once("value").then(function(t){var a=[];t.forEach(function(e){a.push(Object(g.a)({id:e.key},e.val()))}),e({type:"TASK_LIST",payload:a})})}},q=function(e){return function(t){T.ref("tasks").push(e).then(function(){t(y({type:"OK",text:"Task added"})),t(O())}).catch(function(e){t(y({type:"err",text:"Task add error"})),console.log(e)})}},x=function(e){return function(t){T.ref("tasks/".concat(e.id)).update(e).then(function(){t(y({type:"OK",text:"Task updated"})),t(O())}).catch(function(e){t(y({type:"err",text:"Task update error"})),console.log(e)})}},A=Object(h.b)(function(e){return{editMode:e.editMode}},{updateTask:x,deleteTask:function(e){return function(t){T.ref("tasks/".concat(e.id)).remove().then(function(){t(y({type:"OK",text:"Task deleted"})),t(O())}).catch(function(e){t(y({type:"err",text:"Task delete error"})),console.log(e)})}}})(function(e){var t=e.task,a=e.editMode,n=e.actions,i=e.updateTask,c=e.deleteTask;return s.a.createElement("li",{className:"mb-3 task"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h5",{className:"card-title ".concat(t.complete?"not-active-text":"")},t.title)),s.a.createElement("div",{className:"col-4 text-right align-self-end"},s.a.createElement("div",{className:"btn-group btn-group-sm"},s.a.createElement("button",{onClick:function(){return n.view(t)},className:"btn btn-dark"},a?"Edit":"View"),s.a.createElement("button",{onClick:function(){return c(t)},disabled:!t.complete||!a,className:"btn btn-danger"},"Delete"),s.a.createElement("button",{onClick:function(){i(Object(g.a)({},t,{complete:!0}))},disabled:t.complete||!a,className:"btn btn-success"},"Complete")))))))}),j=a(31),S=a(30),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).close=function(e){e.preventDefault(),a.props.close()},a.inputChange=function(e){a.setState(Object(j.a)({},e.currentTarget.name,e.currentTarget.value))},a.completeChange=function(e){a.setState(Object(j.a)({},e.currentTarget.name,e.currentTarget.checked))},a.submit=function(e){e.preventDefault();var t="",n=a.state,s=n.title,i=n.desc,c=n.complete,l=Object(S.a)(Object(S.a)(a)).props;s.length<3&&(t+="Title invalid: min 3 char. "),i.length<5&&(t+="Description invalid: min 5 char."),t?a.setState({errorMsg:t}):l.task?(l.updateTask({title:s,desc:i,complete:c}),l.close()):(l.addTask({title:s,desc:i,complete:c}),l.close())},a.state={errorMsg:"",title:e.task?e.task.title:"",desc:e.task?e.task.desc:"",complete:!!e.task&&e.task.complete},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=this.state,a=!(!e.editMode&&e.task);return s.a.createElement("div",{className:"task"},s.a.createElement("div",{className:"modal fade show",style:{display:"block"}},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h5",{className:"modal-title"},e.task?"Edit Task":"Add Task")),s.a.createElement("form",{onSubmit:this.submit},s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"form-group"},s.a.createElement("p",{className:"text-danger"},t.errorMsg)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Task Title"),s.a.createElement("input",{type:"text",disabled:!a,className:"form-control",name:"title",value:t.title,onChange:this.inputChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Task Description"),s.a.createElement("textarea",{className:"form-control",disabled:!a,rows:"3",name:"desc",value:t.desc,onChange:this.inputChange})),e.task&&s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"list-edit-action"},s.a.createElement("span",{className:"mr-2"},"Status"),s.a.createElement("input",{type:"checkbox",disabled:!a,onChange:this.completeChange,name:"complete",checked:t.complete})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-secondary",onClick:this.close},"Close"),s.a.createElement("button",{className:"btn btn-dark",disabled:!a},"Save")))))),s.a.createElement("div",{className:"modal-backdrop fade show"}))}}]),t}(n.Component),M=Object(h.b)(function(e){return{editMode:e.editMode}},{updateTask:x,addTask:q})(w),C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(u.a)(t).call(this,e))).openTask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.setState({taskModal:!0,currentEditTask:e})},a.closeTask=function(){a.setState({taskModal:!1,currentEditTask:null})},a.editToggle=function(e){a.props.editModeToggle(e.currentTarget.checked)},a.state={taskModal:!1,currentEditTask:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getTasks()}},{key:"render",value:function(){var e=this,t=this.state,a=this.props;return s.a.createElement("div",{className:"list pt-3 pb-3"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-2"},s.a.createElement("h3",null,"Tasks")),s.a.createElement("div",{className:"col"},a.message&&s.a.createElement("h4",{className:"err"===a.message.type?"text-danger":"text-success"},a.message.text)),s.a.createElement("div",{className:"col-2"},s.a.createElement("p",{className:"text-right"},"Task count: ",a.tasks.length))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col text-right font-weight-bold mb-3"},s.a.createElement("button",{onClick:function(){return e.openTask()},className:"btn btn-secondary mr-3"},"Add Task"),s.a.createElement("label",{className:"list-edit-action"},s.a.createElement("span",{className:"mr-2"},"Edit Mode"),s.a.createElement("input",{type:"checkbox",onChange:this.editToggle,checked:a.editMode})))),s.a.createElement("div",{className:"row"},s.a.createElement("ul",{className:"w-100 col",style:{listStyle:"none"}},!a.tasks.length&&s.a.createElement("h6",{className:"text-muted"},"You don't have tasks"),a.tasks.map(function(t,a){return s.a.createElement(A,{task:t,key:a,actions:{view:e.openTask}})})))),t.taskModal&&s.a.createElement(M,{task:t.currentEditTask,close:this.closeTask}))}}]),t}(n.Component),D=Object(h.b)(function(e){return{tasks:e.tasks,message:e.message,editMode:e.editMode}},{getTasks:O,addTask:q,editModeToggle:function(e){return function(t){t({type:"EDIT_MODE",payload:e})}}})(C),_=function(e){return s.a.createElement("div",{className:"about pt-3 pb-3"},s.a.createElement("div",{className:"container"},s.a.createElement("h3",null,"About App"),s.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur cum eaque mollitia quae quaerat quam, repellat vel velit voluptate? Aut dicta eos harum, impedit iste libero maiores maxime minima mollitia, nobis odio, quis repudiandae? Amet aspernatur at autem doloremque excepturi expedita, facilis iste, libero nobis omnis quibusdam quisquam, sunt tenetur voluptas voluptatem! Beatae est inventore minima modi mollitia omnis possimus praesentium repudiandae ullam voluptatibus. Deleniti dolore eaque, iste odio praesentium quasi! Cum illo impedit in iste labore minus nisi omnis porro quo reiciendis, tenetur ullam, ut veritatis! "),s.a.createElement("p",null,"A architecto autem delectus dicta eligendi eum optio perferendis porro ratione recusandae, reiciendis saepe temporibus tenetur. Aperiam corporis dignissimos doloremque esse et fugiat hic laborum laudantium maiores obcaecati optio perspiciatis, rem tempore! Debitis eos iste laborum voluptatum! Animi cum dignissimos eos excepturi, fugiat id impedit in iusto magnam minima natus nisi officia quas rem sapiente sit ullam voluptas. Assumenda atque, beatae cupiditate debitis deleniti dolor ex hic inventore optio porro quae quam quos saepe! Amet, labore, rem. Accusamus adipisci blanditiis fugiat fugit incidunt possimus quae quibusdam tempore vitae?"),s.a.createElement("p",null,"Amet, aperiam assumenda, at culpa delectus dolor doloribus dolorum eaque enim exercitationem explicabo hic id impedit incidunt labore laborum laudantium nam natus nisi nulla numquam, odit perferendis possimus quasi quia quod repellat rerum tempore tenetur ut velit vitae voluptates voluptatum. Eos odio odit possimus repellendus! A aut cumque cupiditate dicta eius enim eos hic illo, in iusto laudantium nobis quibusdam recusandae, rerum ut! Alias aperiam, autem consectetur dicta doloremque eius enim fugiat hic illo magni modi natus quae, quam quibusdam quod reiciendis repellendus repudiandae rerum sequi soluta tempore veritatis vitae! Alias, eveniet, nihil! Delectus, odio, quo! Amet nemo nobis odio! Accusamus exercitationem libero officia quis vitae? Accusantium alias asperiores beatae cumque distinctio doloribus ipsum officia quia recusandae, sequi! Ea eligendi ex id ipsam laudantium ullam.")))},I=a(10),K=a(74),L=Object(I.c)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TASK_LIST":case"ADD_TASK":case"UPD_TASK":case"DEL_TASK":return t.payload;default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MESSAGE":return t.payload;default:return e}},editMode:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_MODE":return t.payload;default:return e}}}),R=[Object(I.a)(K.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()].filter(function(e){return e}),V=Object(I.e)(L,{},I.d.apply(void 0,Object(d.a)(R))),G=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(h.a,{store:V},s.a.createElement(p.a,{basename:"/test-todo"},s.a.createElement("div",null,s.a.createElement(k,null),s.a.createElement(b.a,null,s.a.createElement(v.a,{exact:!0,path:"/",component:D}),s.a.createElement(v.a,{exact:!0,path:"/about",component:_})))))}}]),t}(n.Component);a(142),a(144),a(146);c.a.render(s.a.createElement(G,null),document.getElementById("root"))},77:function(e,t,a){e.exports=a(148)}},[[77,2,1]]]);
//# sourceMappingURL=main.1152db92.chunk.js.map